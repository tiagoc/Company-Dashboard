@{
    ViewBag.Title = "Registar Faturas";
}
<script>

    var linhasDocVenda = [{ "CodArtigo": "MV.0001", "Quantidade": 5, "Armazem": "A2", "PrecoUnitario": 30, "Desconto": 0 }];
    var docvenda = { "Entidade": "C0002", "Serie": "A", "LinhasDoc": linhasDocVenda };

    var linhasDocCompra = [{ "CodArtigo": "MB.0001", "Quantidade": 5, "Armazem": "A2", "PrecoUnitario": 5, "Desconto": 2 }];
    var doccompra = { "Entidade": "F0001", "NumDocExterno": "1", "Serie": "A", "LinhasDoc": linhasDocCompra };

    function press(id, id2) {
        $("#" + id).fadeIn();
        $("#" + id2).fadeOut();
    }

    var registarCompra = $.ajax({
        type: "POST",
        url: "/api/doccompra",
        data: doccompra
    });

    var registarVenda = $.ajax({
        type: "POST",
        url: "/api/docvenda",
        data: docvenda
    });

</script>


<div id="start">
    <div class="row">
        <div class="col-md-6" style=" text-align: center">
            <p><button class="btn btn-lg btn-primary" onclick="press('fatura_compra','start')">Compra</button></p>
        </div>
        <div class="col-md-6" style=" text-align: center">
            <p><button class="btn btn-lg btn-primary" onclick="press('fatura_venda','start')">Venda</button></p>
        </div>

    </div>
</div>

    
<div id="fatura_venda" hidden>
    <div class="row">
        <div class="col-md-12">
            <h3>Introduza os campos da fatura</h3>
            <form class="form-horizontal" role="form">
                <div class="form-group">
                    <label for="CodArtigo" class="col-sm-2 control-label">Código do Artigo</label>
                    <div class="col-sm-10">
                        <select class="form-control" id="CodArtigo" onchange="registarVenda()"></select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="Entidade" class="col-sm-2 control-label">Entidade</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="Entidade">
                    </div>
                </div>
                <div class="form-group">
                    <label for="Serie" class="col-sm-2 control-label">Serie</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="Serie">
                    </div>
                </div>
                <div class="form-group">
                    <label for="Armazem" class="col-sm-2 control-label">Armazem</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="Armazem">
                    </div>
                </div>
                <div class="form-group">
                    <label for="Quantidade" class="col-sm-2 control-label">Quantidade</label>
                    <div class="col-sm-10">
                        <input type="number" step="1" class="form-control" id="Quantidade">
                    </div>
                </div>
                <div class="form-group">
                    <label for="Preco" class="col-sm-2 control-label">Preço Unitário</label>
                    <div class="col-sm-10">
                        <input type="number" step="0.01" class="form-control" id="PrecoUnitario">
                    </div>
                </div>
                <div class="form-group">
                    <label for="Desconto" class="col-sm-2 control-label">Desconto</label>
                    <div class="col-sm-10">
                        <input type="number" step="0.01" class="form-control" id="Desconto">
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button type="submit" class="btn btn-success">Submeter</button>
                    </div>
                </div>
            </form>
            <button class="btn btn-default" onclick="press('start', 'fatura_venda')">Voltar atrás</button>
        </div>
    </div>
</div>


<div id="fatura_compra" hidden>
    <div class="row">
        <div class="col-md-12">
            <h3>Introduza os campos da fatura</h3>
            <form class="form-horizontal" role="form">
                <div class="form-group">
                    <label for="CodArtigo" class="col-sm-2 control-label">Código do Artigo</label>
                    <div class="col-sm-10">
                        <select class="form-control" id="CodArtigo" onchange="registarCompra()"></select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="Entidade" class="col-sm-2 control-label">Entidade</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="Entidade">
                    </div>
                </div>
                <div class="form-group">
                    <label for="Armazem" class="col-sm-2 control-label">Armazem</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="Armazem">
                    </div>
                </div>
                <div class="form-group">
                    <label for="NumDocExterno" class="col-sm-2 control-label">Número do Documento Externo</label>
                    <div class="col-sm-10">
                        <input type="number" step="1" class="form-control" id="NumDocExterno">
                    </div>
                </div>
                <div class="form-group">
                    <label for="Quantidade" class="col-sm-2 control-label">Quantidade</label>
                    <div class="col-sm-10">
                        <input type="number" step="1" class="form-control" id="Quantidade">
                    </div>
                </div>
                <div class="form-group">
                    <label for="Preco" class="col-sm-2 control-label">Preço Unitário</label>
                    <div class="col-sm-10">
                        <input type="number" step="0.01" class="form-control" id="PrecoUnitario">
                    </div>
                </div>
                <div class="form-group">
                    <label for="Desconto" class="col-sm-2 control-label">Desconto</label>
                    <div class="col-sm-10">
                        <input type="number" step="0.01" class="form-control" id="Desconto">
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button type="submit" class="btn btn-success">Submeter</button>
                    </div>
                </div>
            </form>
            <button class="btn btn-default" onclick="press('start', 'fatura_compra')">Voltar atrás</button>
        </div>
    </div>
</div>


